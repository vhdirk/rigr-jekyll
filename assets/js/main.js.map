{"mappings":"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","sources":["<anon>","_scripts/main.ts","node_modules/lightense-images/dist/lightense.js"],"sourcesContent":["(() => {\nvar $f59de53767e8fbf8$exports = {};\n/*! lightense-images v1.0.17 | Â© Tunghsiao Liu | MIT */ (function webpackUniversalModuleDefinition(root, factory) {\n    $f59de53767e8fbf8$exports = factory();\n})($f59de53767e8fbf8$exports, function() {\n    return /******/ (()=>{\n        /******/ var __webpack_modules__ = {\n            /***/ 352: /***/ (module1)=>{\n                function ownKeys(object, enumerableOnly) {\n                    var keys = Object.keys(object);\n                    if (Object.getOwnPropertySymbols) {\n                        var symbols = Object.getOwnPropertySymbols(object);\n                        if (enumerableOnly) symbols = symbols.filter(function(sym) {\n                            return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                        });\n                        keys.push.apply(keys, symbols);\n                    }\n                    return keys;\n                }\n                function _objectSpread(target) {\n                    for(var i = 1; i < arguments.length; i++){\n                        var source = arguments[i] != null ? arguments[i] : {};\n                        if (i % 2) ownKeys(Object(source), true).forEach(function(key) {\n                            _defineProperty(target, key, source[key]);\n                        });\n                        else if (Object.getOwnPropertyDescriptors) Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n                        else ownKeys(Object(source)).forEach(function(key) {\n                            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n                        });\n                    }\n                    return target;\n                }\n                function _defineProperty(obj, key, value) {\n                    if (key in obj) Object.defineProperty(obj, key, {\n                        value: value,\n                        enumerable: true,\n                        configurable: true,\n                        writable: true\n                    });\n                    else obj[key] = value;\n                    return obj;\n                }\n                function _typeof(obj) {\n                    \"@babel/helpers - typeof\";\n                    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") _typeof = function _typeof(obj) {\n                        return typeof obj;\n                    };\n                    else _typeof = function _typeof(obj) {\n                        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n                    };\n                    return _typeof(obj);\n                }\n                var Lightense = function Lightense() {\n                    \"use strict\"; // default options\n                    var defaults = {\n                        time: 300,\n                        padding: 40,\n                        offset: 40,\n                        keyboard: true,\n                        cubicBezier: \"cubic-bezier(.2, 0, .1, 1)\",\n                        background: \"var(--bg-color-80, rgba(255, 255, 255, .98))\",\n                        zIndex: 1000000,\n                        /* eslint-disable no-undefined */ beforeShow: undefined,\n                        afterShow: undefined,\n                        beforeHide: undefined,\n                        afterHide: undefined\n                    }; // Init user options\n                    var config = {};\n                    function invokeCustomHook(methodName) {\n                        var method = config[methodName];\n                        if (!method) return;\n                        if (typeof method !== \"function\") throw \"config.\".concat(methodName, \" must be a function!\");\n                        Reflect.apply(method, config, [\n                            config\n                        ]);\n                    } // Init target elements\n                    var elements;\n                    function getElements(elements) {\n                        switch(_typeof(elements)){\n                            case \"undefined\":\n                                throw \"You need to pass an element!\";\n                            case \"string\":\n                                return document.querySelectorAll(elements);\n                            case \"object\":\n                                return elements;\n                        }\n                    }\n                    function startTracking(passedElements) {\n                        // If passed an array of elements, assign tracking to all\n                        var len = passedElements.length;\n                        if (len) // Loop and assign\n                        for(var i = 0; i < len; i++)track(passedElements[i]);\n                        else track(passedElements);\n                    }\n                    function track(element) {\n                        if (element.src && !element.classList.contains(\"lightense-target\")) {\n                            element.classList.add(\"lightense-target\");\n                            element.addEventListener(\"click\", function(event) {\n                                if (config.keyboard) {\n                                    // If Command (macOS) or Ctrl (Windows) key pressed, stop processing\n                                    // and open the image in a new tab\n                                    if (event.metaKey || event.ctrlKey) return window.open(element.src, \"_blank\");\n                                } // Init instance\n                                init(this);\n                            }, false);\n                        }\n                    }\n                    function insertCss(styleId, styleContent) {\n                        var head = document.head || document.getElementsByTagName(\"head\")[0]; // Remove existing instance\n                        if (document.getElementById(styleId)) document.getElementById(styleId).remove();\n                         // Create new instance\n                        var styleEl = document.createElement(\"style\");\n                        styleEl.id = styleId; // Check if content exists\n                        if (styleEl.styleSheet) styleEl.styleSheet.cssText = styleContent;\n                        else styleEl.appendChild(document.createTextNode(styleContent));\n                        head.appendChild(styleEl);\n                    }\n                    function createDefaultCss() {\n                        var css = \"\\n:root {\\n  --lightense-z-index: \".concat(config.zIndex - 1, \";\\n  --lightense-backdrop: \").concat(config.background, \";\\n  --lightense-duration: \").concat(config.time, \"ms;\\n  --lightense-timing-func: \").concat(config.cubicBezier, \";\\n}\\n\\n.lightense-backdrop {\\n  box-sizing: border-box;\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  overflow: hidden;\\n  z-index: calc(var(--lightense-z-index) - 1);\\n  padding: 0;\\n  margin: 0;\\n  transition: opacity var(--lightense-duration) ease;\\n  cursor: zoom-out;\\n  opacity: 0;\\n  background-color: var(--lightense-backdrop);\\n  visibility: hidden;\\n}\\n\\n@supports (-webkit-backdrop-filter: blur(30px)) {\\n  .lightense-backdrop {\\n    background-color: var(--lightense-backdrop);\\n    -webkit-backdrop-filter: blur(30px);\\n  }\\n}\\n\\n@supports (backdrop-filter: blur(30px)) {\\n  .lightense-backdrop {\\n    background-color: var(--lightense-backdrop);\\n    backdrop-filter: blur(30px);\\n  }\\n}\\n\\n.lightense-wrap {\\n  position: relative;\\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\\n  z-index: var(--lightense-z-index);\\n  pointer-events: none;\\n}\\n\\n.lightense-target {\\n  cursor: zoom-in;\\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\\n  pointer-events: auto;\\n}\\n\\n.lightense-open {\\n  cursor: zoom-out;\\n}\\n\\n.lightense-transitioning {\\n  pointer-events: none;\\n}\");\n                        insertCss(\"lightense-images-css\", css);\n                    }\n                    function createBackdrop() {\n                        if (document.querySelector(\".lightense-backdrop\") === null) {\n                            config.container = document.createElement(\"div\");\n                            config.container.className = \"lightense-backdrop\";\n                            document.body.appendChild(config.container);\n                        } else config.container = document.querySelector(\".lightense-backdrop\");\n                    }\n                    function createTransform(img) {\n                        // Get original image size\n                        var naturalWidth = img.width;\n                        var naturalHeight = img.height; // Calc zoom ratio\n                        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || 0;\n                        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || 0;\n                        var targetImage = config.target.getBoundingClientRect();\n                        var maxScaleFactor = naturalWidth / targetImage.width;\n                        var viewportWidth = window.innerWidth || document.documentElement.clientWidth || 0;\n                        var viewportHeight = window.innerHeight || document.documentElement.clientHeight || 0;\n                        var viewportPadding = config.target.getAttribute(\"data-lightense-padding\") || config.target.getAttribute(\"data-padding\") || config.padding;\n                        var viewportWidthOffset = viewportWidth > viewportPadding ? viewportWidth - viewportPadding : viewportWidth - defaults.padding;\n                        var viewportHeightOffset = viewportHeight > viewportPadding ? viewportHeight - viewportPadding : viewportHeight - defaults.padding;\n                        var imageRatio = naturalWidth / naturalHeight;\n                        var viewportRatio = viewportWidthOffset / viewportHeightOffset;\n                        if (naturalWidth < viewportWidthOffset && naturalHeight < viewportHeightOffset) config.scaleFactor = maxScaleFactor;\n                        else if (imageRatio < viewportRatio) config.scaleFactor = viewportHeightOffset / naturalHeight * maxScaleFactor;\n                        else config.scaleFactor = viewportWidthOffset / naturalWidth * maxScaleFactor;\n                         // Calc animation\n                        var viewportX = viewportWidth / 2;\n                        var viewportY = scrollTop + viewportHeight / 2;\n                        var imageCenterX = targetImage.left + scrollLeft + targetImage.width / 2;\n                        var imageCenterY = targetImage.top + scrollTop + targetImage.height / 2;\n                        config.translateX = Math.round(viewportX - imageCenterX);\n                        config.translateY = Math.round(viewportY - imageCenterY);\n                    }\n                    function createViewer() {\n                        config.target.classList.add(\"lightense-open\"); // Create wrapper element\n                        config.wrap = document.createElement(\"div\");\n                        config.wrap.className = \"lightense-wrap\"; // Apply zoom ratio to target image\n                        setTimeout(function() {\n                            config.target.style.transform = \"scale(\" + config.scaleFactor + \")\";\n                        }, 20); // Apply animation to outer wrapper\n                        config.target.parentNode.insertBefore(config.wrap, config.target);\n                        config.wrap.appendChild(config.target);\n                        setTimeout(function() {\n                            config.wrap.style.transform = \"translate3d(\" + config.translateX + \"px, \" + config.translateY + \"px, 0)\";\n                        }, 20); // Show backdrop\n                        var item_options = {\n                            cubicBezier: config.target.getAttribute(\"data-lightense-cubic-bezier\") || config.cubicBezier,\n                            background: config.target.getAttribute(\"data-lightense-background\") || config.target.getAttribute(\"data-background\") || config.background,\n                            zIndex: config.target.getAttribute(\"data-lightense-z-index\") || config.zIndex\n                        }; // Create new config for item-specified styles\n                        var config_computed = _objectSpread(_objectSpread({}, config), item_options);\n                        var css = \"\\n    :root {\\n      --lightense-z-index: \".concat(config_computed.zIndex - 1, \";\\n      --lightense-backdrop: \").concat(config_computed.background, \";\\n      --lightense-duration: \").concat(config_computed.time, \"ms;\\n      --lightense-timing-func: \").concat(config_computed.cubicBezier, \";\\n    }\");\n                        insertCss(\"lightense-images-css-computed\", css);\n                        config.container.style.visibility = \"visible\";\n                        setTimeout(function() {\n                            config.container.style.opacity = \"1\";\n                        }, 20);\n                    }\n                    function removeViewer() {\n                        invokeCustomHook(\"beforeHide\");\n                        unbindEvents();\n                        config.target.classList.remove(\"lightense-open\"); // Remove transform styles\n                        config.wrap.style.transform = \"\";\n                        config.target.style.transform = \"\";\n                        config.target.classList.add(\"lightense-transitioning\"); // Fadeout backdrop\n                        config.container.style.opacity = \"\"; // Hide backdrop and remove target element wrapper\n                        setTimeout(function() {\n                            invokeCustomHook(\"afterHide\");\n                            config.container.style.visibility = \"\";\n                            config.container.style.backgroundColor = \"\";\n                            config.wrap.parentNode.replaceChild(config.target, config.wrap);\n                            config.target.classList.remove(\"lightense-transitioning\");\n                        }, config.time);\n                    }\n                    function checkViewer() {\n                        var scrollOffset = Math.abs(config.scrollY - window.scrollY);\n                        if (scrollOffset >= config.offset) removeViewer();\n                    }\n                    function once(target, event, handler) {\n                        target.addEventListener(event, function fn(args) {\n                            Reflect.apply(handler, this, args);\n                            target.removeEventListener(event, fn);\n                        });\n                    }\n                    function init(element) {\n                        config.target = element; // TODO: need refine\n                        // If element already openned, close it\n                        if (config.target.classList.contains(\"lightense-open\")) return removeViewer();\n                        invokeCustomHook(\"beforeShow\"); // Save current window scroll position for later use\n                        config.scrollY = window.scrollY;\n                        once(config.target, \"transitionend\", function() {\n                            invokeCustomHook(\"afterShow\");\n                        });\n                        var img = new Image();\n                        img.onload = function() {\n                            createTransform(this);\n                            createViewer();\n                            bindEvents();\n                        };\n                        img.src = config.target.src;\n                    }\n                    function bindEvents() {\n                        window.addEventListener(\"keyup\", onKeyUp, false);\n                        window.addEventListener(\"scroll\", checkViewer, false);\n                        config.container.addEventListener(\"click\", removeViewer, false);\n                    }\n                    function unbindEvents() {\n                        window.removeEventListener(\"keyup\", onKeyUp, false);\n                        window.removeEventListener(\"scroll\", checkViewer, false);\n                        config.container.removeEventListener(\"click\", removeViewer, false);\n                    } // Exit on excape (esc) key pressed\n                    function onKeyUp(event) {\n                        event.preventDefault();\n                        if (event.keyCode === 27) removeViewer();\n                    }\n                    function main(target) {\n                        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                        // Parse elements\n                        elements = getElements(target); // Parse user options\n                        config = _objectSpread(_objectSpread({}, defaults), options); // Prepare stylesheets\n                        createDefaultCss(); // Prepare backdrop element\n                        createBackdrop(); // Pass and prepare elements\n                        startTracking(elements);\n                    }\n                    return main;\n                };\n                var singleton = Lightense();\n                module1.exports = singleton;\n            /***/ }\n        };\n        /************************************************************************/ /******/ // The module cache\n        /******/ var __webpack_module_cache__ = {};\n        /******/ /******/ // The require function\n        /******/ function __webpack_require__(moduleId) {\n            /******/ // Check if module is in cache\n            /******/ var cachedModule = __webpack_module_cache__[moduleId];\n            /******/ if (cachedModule !== undefined) /******/ return cachedModule.exports;\n            /******/ // Create a new module (and put it into the cache)\n            /******/ var module1 = __webpack_module_cache__[moduleId] = {\n                /******/ // no module.id needed\n                /******/ // no module.loaded needed\n                /******/ exports: {}\n            };\n            /******/ /******/ // Execute the module function\n            /******/ __webpack_modules__[moduleId](module1, module1.exports, __webpack_require__);\n            /******/ /******/ // Return the exports of the module\n            /******/ return module1.exports;\n        /******/ }\n        /******/ /************************************************************************/ /******/ /******/ // startup\n        /******/ // Load entry module and return exports\n        /******/ // This entry module is referenced by other modules so it can't be inlined\n        /******/ var __webpack_exports__ = __webpack_require__(352);\n        /******/ /******/ return __webpack_exports__;\n    /******/ })();\n});\n\n\nfunction $4aa4c7540c92462b$var$setThemeVariant(mode) {\n    localStorage.setItem(\"theme-variant\", mode);\n    let htmlElement = document.querySelector(\"body\");\n    if (mode === \"dark\") {\n        htmlElement?.classList.remove(\"light\");\n        htmlElement?.classList.add(\"dark\");\n        document.getElementById(\"sun-icon\").style.display = \"inline-block\";\n        document.getElementById(\"moon-icon\").style.display = \"none\";\n    } else if (mode === \"light\") {\n        htmlElement?.classList.remove(\"dark\");\n        htmlElement?.classList.add(\"light\");\n        document.getElementById(\"sun-icon\").style.display = \"none\";\n        document.getElementById(\"moon-icon\").style.display = \"inline-block\";\n    }\n// setGiscusTheme(theme);\n}\nfunction $4aa4c7540c92462b$var$toggleThemeVariant() {\n    if (localStorage.getItem(\"theme-variant\") === \"light\") $4aa4c7540c92462b$var$setThemeVariant(\"dark\");\n    else if (localStorage.getItem(\"theme-variant\") === \"dark\") $4aa4c7540c92462b$var$setThemeVariant(\"light\");\n}\nfunction $4aa4c7540c92462b$var$getSavedThemeVariant() {\n    let currentTheme = localStorage.getItem(\"theme-variant\");\n    if (!currentTheme) {\n        if (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches) currentTheme = \"dark\";\n        else currentTheme = \"light\";\n    }\n    return currentTheme;\n}\n// function toggleGiscusTheme(theme) {\n//     const iframe = document.querySelector('iframe.giscus-frame');\n//     if (iframe) iframe.contentWindow.postMessage({ giscus: { setConfig: { theme: `${location.origin}/giscus_${theme}.css` } } }, 'https://giscus.app');\n// }\n// function initGiscusTheme(evt) {\n//     if (evt.origin !== 'https://giscus.app') return;\n//     if (!(typeof evt.data === 'object' && evt.data.giscus)) return;\n//     toggleGiscusTheme(sessionStorage.getItem(\"theme-variant\") || (preferDark.matches ? \"dark\" : \"light\"));\n//     window.removeEventListener('message', initGiscusTheme);\n// }\nfunction $4aa4c7540c92462b$var$enableThemeVariantToggle() {\n    const themeToggle = document.querySelector(\"#theme-variant-toggle\");\n    const preferDark = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    // window.addEventListener('message', initGiscusTheme);\n    if (themeToggle) themeToggle.addEventListener(\"click\", $4aa4c7540c92462b$var$toggleThemeVariant);\n    preferDark.addEventListener(\"change\", (e)=>$4aa4c7540c92462b$var$setThemeVariant(e.matches ? \"dark\" : \"light\"));\n    $4aa4c7540c92462b$var$setThemeVariant($4aa4c7540c92462b$var$getSavedThemeVariant());\n}\nfunction $4aa4c7540c92462b$var$addBackToTopBtn() {\n    const backBtn = document.querySelector(\"#back-to-top\");\n    if (!backBtn) return;\n    const toTop = ()=>window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    const toggle = ()=>{\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n        if (scrollTop > 200 && !backBtn.classList.contains(\"shown\")) {\n            backBtn.classList.add(\"shown\");\n            backBtn.addEventListener(\"click\", toTop);\n        } else if (scrollTop <= 200 && backBtn.classList.contains(\"shown\")) {\n            backBtn.classList.remove(\"shown\");\n            backBtn.removeEventListener(\"click\", toTop);\n        }\n    };\n    window.addEventListener(\"scroll\", toggle);\n    toggle();\n}\nfunction $4aa4c7540c92462b$var$enableOutdateCallout() {\n    const callout = document.querySelector(\"#outdate_callout\");\n    if (!callout) return;\n    const publish = document.querySelector(\"#publish\");\n    const updated = document.querySelector(\"#updated\");\n    if (!publish) return;\n    const updateDate = new Date(updated?.textContent || publish.textContent);\n    const intervalDays = Math.floor((Date.now() - updateDate.getTime()) / 86400000);\n    const calloutDays = parseInt(callout.dataset.outdateDays || \"-1\");\n    if (calloutDays >= 0 && intervalDays >= calloutDays) {\n        const msg = callout.dataset.outdateTextBefore + intervalDays + callout.dataset.outdateTextAfter;\n        callout.querySelector(\".message\").textContent = msg;\n        callout.classList.remove(\"hidden\");\n    }\n}\nfunction $4aa4c7540c92462b$var$main() {\n    if ($f59de53767e8fbf8$exports) $f59de53767e8fbf8$exports(\".prose img\", {\n        background: \"rgba(43, 43, 43, 0.19)\"\n    });\n    $4aa4c7540c92462b$var$enableThemeVariantToggle();\n    // enablePrerender();\n    // enableNavFold();\n    // enableRssMask();\n    $4aa4c7540c92462b$var$enableOutdateCallout();\n    document.body.classList.contains(\"post\");\n}\ndocument.addEventListener(\"DOMContentLoaded\", $4aa4c7540c92462b$var$main, false);\n\n})();\n//# sourceMappingURL=main.js.map\n","import * as Lightense from \"lightense-images\";\n\nfunction setThemeVariant(mode) {\n    localStorage.setItem(\"theme-variant\", mode);\n    let htmlElement = document.querySelector(\"body\");\n\n    if (mode === \"dark\") {\n        htmlElement?.classList.remove(\"light\")\n        htmlElement?.classList.add(\"dark\")\n\n        document.getElementById(\"sun-icon\")!.style.display = \"inline-block\";\n        document.getElementById(\"moon-icon\")!.style.display = \"none\";\n    } else if (mode === \"light\") {\n        htmlElement?.classList.remove(\"dark\")\n        htmlElement?.classList.add(\"light\")\n\n        document.getElementById(\"sun-icon\")!.style.display = \"none\";\n        document.getElementById(\"moon-icon\")!.style.display = \"inline-block\";\n    }\n\n    // setGiscusTheme(theme);\n\n}\n\nfunction toggleThemeVariant() {\n    if (localStorage.getItem(\"theme-variant\") === \"light\") {\n        setThemeVariant(\"dark\");\n    } else if (localStorage.getItem(\"theme-variant\") === \"dark\") {\n        setThemeVariant(\"light\");\n    }\n}\n\nfunction getSavedThemeVariant() {\n    let currentTheme = localStorage.getItem(\"theme-variant\");\n    if (!currentTheme) {\n        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n            currentTheme = \"dark\";\n        } else {\n            currentTheme = \"light\";\n        }\n    }\n\n    return currentTheme;\n}\n\n\n// function toggleGiscusTheme(theme) {\n//     const iframe = document.querySelector('iframe.giscus-frame');\n//     if (iframe) iframe.contentWindow.postMessage({ giscus: { setConfig: { theme: `${location.origin}/giscus_${theme}.css` } } }, 'https://giscus.app');\n// }\n\n// function initGiscusTheme(evt) {\n//     if (evt.origin !== 'https://giscus.app') return;\n//     if (!(typeof evt.data === 'object' && evt.data.giscus)) return;\n//     toggleGiscusTheme(sessionStorage.getItem(\"theme-variant\") || (preferDark.matches ? \"dark\" : \"light\"));\n//     window.removeEventListener('message', initGiscusTheme);\n// }\n\nfunction enableThemeVariantToggle() {\n    const themeToggle = document.querySelector('#theme-variant-toggle');\n    const preferDark = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\n    // window.addEventListener('message', initGiscusTheme);\n    if (themeToggle) {\n        themeToggle.addEventListener('click', toggleThemeVariant);\n    }\n\n    preferDark.addEventListener(\"change\", e => setThemeVariant(e.matches ? \"dark\" : \"light\"));\n\n    setThemeVariant(getSavedThemeVariant());\n}\n\nfunction addBackToTopBtn() {\n    const backBtn = document.querySelector('#back-to-top');\n    if (!backBtn) return;\n    const toTop = () => window.scrollTo({ top: 0, behavior: 'smooth' });\n    const toggle = () => {\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n        if (scrollTop > 200 && !backBtn.classList.contains('shown')) {\n            backBtn.classList.add('shown');\n            backBtn.addEventListener('click', toTop);\n        } else if (scrollTop <= 200 && backBtn.classList.contains('shown')) {\n            backBtn.classList.remove('shown');\n            backBtn.removeEventListener('click', toTop);\n        }\n    };\n    window.addEventListener('scroll', toggle);\n    toggle();\n}\n\n\nfunction enableOutdateCallout() {\n    const callout = document.querySelector<HTMLElement>('#outdate_callout');\n    if (!callout) {\n        return;\n    }\n    const publish = document.querySelector<HTMLElement>('#publish');\n    const updated = document.querySelector<HTMLElement>('#updated');\n    if (!publish) {\n        return;\n    }\n\n    const updateDate = new Date(updated?.textContent || publish.textContent!);\n    const intervalDays = Math.floor((Date.now() - updateDate.getTime()) / (24 * 60 * 60 * 1000));\n    const calloutDays = parseInt(callout.dataset.outdateDays || \"-1\");\n    if (calloutDays >= 0 && intervalDays >= calloutDays) {\n        const msg = callout.dataset.outdateTextBefore! + intervalDays + callout.dataset.outdateTextAfter;\n        callout.querySelector('.message')!.textContent = msg;\n        callout.classList.remove('hidden');\n    }\n}\n\n\nfunction main() {\n\n    if (Lightense) {\n        Lightense(\".prose img\", { background: 'rgba(43, 43, 43, 0.19)' });\n    }\n\n    enableThemeVariantToggle();\n    // enablePrerender();\n    // enableNavFold();\n    // enableRssMask();\n    enableOutdateCallout();\n\n    if (document.body.classList.contains('post')) {\n        // enableTocToggle();\n        // enableTocIndicate();\n        // addBackToTopBtn();\n        // enableTocTooltip();\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', main, false);\n\n","/*! lightense-images v1.0.17 | Â© Tunghsiao Liu | MIT */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lightense\"] = factory();\n\telse\n\t\troot[\"Lightense\"] = factory();\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 352:\n/***/ ((module) => {\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar Lightense = function Lightense() {\n  'use strict'; // default options\n\n  var defaults = {\n    time: 300,\n    padding: 40,\n    offset: 40,\n    keyboard: true,\n    cubicBezier: 'cubic-bezier(.2, 0, .1, 1)',\n    background: 'var(--bg-color-80, rgba(255, 255, 255, .98))',\n    zIndex: 1000000,\n\n    /* eslint-disable no-undefined */\n    beforeShow: undefined,\n    afterShow: undefined,\n    beforeHide: undefined,\n    afterHide: undefined\n    /* eslint-enable no-undefined  */\n\n  }; // Init user options\n\n  var config = {};\n\n  function invokeCustomHook(methodName) {\n    var method = config[methodName];\n\n    if (!method) {\n      return;\n    }\n\n    if (typeof method !== 'function') {\n      throw \"config.\".concat(methodName, \" must be a function!\");\n    }\n\n    Reflect.apply(method, config, [config]);\n  } // Init target elements\n\n\n  var elements;\n\n  function getElements(elements) {\n    switch (_typeof(elements)) {\n      case 'undefined':\n        throw 'You need to pass an element!';\n\n      case 'string':\n        return document.querySelectorAll(elements);\n\n      case 'object':\n        return elements;\n    }\n  }\n\n  function startTracking(passedElements) {\n    // If passed an array of elements, assign tracking to all\n    var len = passedElements.length;\n\n    if (len) {\n      // Loop and assign\n      for (var i = 0; i < len; i++) {\n        track(passedElements[i]);\n      }\n    } else {\n      track(passedElements);\n    }\n  }\n\n  function track(element) {\n    if (element.src && !element.classList.contains('lightense-target')) {\n      element.classList.add('lightense-target');\n      element.addEventListener('click', function (event) {\n        if (config.keyboard) {\n          // If Command (macOS) or Ctrl (Windows) key pressed, stop processing\n          // and open the image in a new tab\n          if (event.metaKey || event.ctrlKey) {\n            return window.open(element.src, '_blank');\n          }\n        } // Init instance\n\n\n        init(this);\n      }, false);\n    }\n  }\n\n  function insertCss(styleId, styleContent) {\n    var head = document.head || document.getElementsByTagName('head')[0]; // Remove existing instance\n\n    if (document.getElementById(styleId)) {\n      document.getElementById(styleId).remove();\n    } // Create new instance\n\n\n    var styleEl = document.createElement('style');\n    styleEl.id = styleId; // Check if content exists\n\n    if (styleEl.styleSheet) {\n      styleEl.styleSheet.cssText = styleContent;\n    } else {\n      styleEl.appendChild(document.createTextNode(styleContent));\n    }\n\n    head.appendChild(styleEl);\n  }\n\n  function createDefaultCss() {\n    var css = \"\\n:root {\\n  --lightense-z-index: \".concat(config.zIndex - 1, \";\\n  --lightense-backdrop: \").concat(config.background, \";\\n  --lightense-duration: \").concat(config.time, \"ms;\\n  --lightense-timing-func: \").concat(config.cubicBezier, \";\\n}\\n\\n.lightense-backdrop {\\n  box-sizing: border-box;\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  overflow: hidden;\\n  z-index: calc(var(--lightense-z-index) - 1);\\n  padding: 0;\\n  margin: 0;\\n  transition: opacity var(--lightense-duration) ease;\\n  cursor: zoom-out;\\n  opacity: 0;\\n  background-color: var(--lightense-backdrop);\\n  visibility: hidden;\\n}\\n\\n@supports (-webkit-backdrop-filter: blur(30px)) {\\n  .lightense-backdrop {\\n    background-color: var(--lightense-backdrop);\\n    -webkit-backdrop-filter: blur(30px);\\n  }\\n}\\n\\n@supports (backdrop-filter: blur(30px)) {\\n  .lightense-backdrop {\\n    background-color: var(--lightense-backdrop);\\n    backdrop-filter: blur(30px);\\n  }\\n}\\n\\n.lightense-wrap {\\n  position: relative;\\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\\n  z-index: var(--lightense-z-index);\\n  pointer-events: none;\\n}\\n\\n.lightense-target {\\n  cursor: zoom-in;\\n  transition: transform var(--lightense-duration) var(--lightense-timing-func);\\n  pointer-events: auto;\\n}\\n\\n.lightense-open {\\n  cursor: zoom-out;\\n}\\n\\n.lightense-transitioning {\\n  pointer-events: none;\\n}\");\n    insertCss('lightense-images-css', css);\n  }\n\n  function createBackdrop() {\n    if (document.querySelector('.lightense-backdrop') === null) {\n      config.container = document.createElement('div');\n      config.container.className = 'lightense-backdrop';\n      document.body.appendChild(config.container);\n    } else {\n      config.container = document.querySelector('.lightense-backdrop');\n    }\n  }\n\n  function createTransform(img) {\n    // Get original image size\n    var naturalWidth = img.width;\n    var naturalHeight = img.height; // Calc zoom ratio\n\n    var scrollTop = window.pageYOffset || document.documentElement.scrollTop || 0;\n    var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || 0;\n    var targetImage = config.target.getBoundingClientRect();\n    var maxScaleFactor = naturalWidth / targetImage.width;\n    var viewportWidth = window.innerWidth || document.documentElement.clientWidth || 0;\n    var viewportHeight = window.innerHeight || document.documentElement.clientHeight || 0;\n    var viewportPadding = config.target.getAttribute('data-lightense-padding') || config.target.getAttribute('data-padding') || config.padding;\n    var viewportWidthOffset = viewportWidth > viewportPadding ? viewportWidth - viewportPadding : viewportWidth - defaults.padding;\n    var viewportHeightOffset = viewportHeight > viewportPadding ? viewportHeight - viewportPadding : viewportHeight - defaults.padding;\n    var imageRatio = naturalWidth / naturalHeight;\n    var viewportRatio = viewportWidthOffset / viewportHeightOffset;\n\n    if (naturalWidth < viewportWidthOffset && naturalHeight < viewportHeightOffset) {\n      config.scaleFactor = maxScaleFactor;\n    } else if (imageRatio < viewportRatio) {\n      config.scaleFactor = viewportHeightOffset / naturalHeight * maxScaleFactor;\n    } else {\n      config.scaleFactor = viewportWidthOffset / naturalWidth * maxScaleFactor;\n    } // Calc animation\n\n\n    var viewportX = viewportWidth / 2;\n    var viewportY = scrollTop + viewportHeight / 2;\n    var imageCenterX = targetImage.left + scrollLeft + targetImage.width / 2;\n    var imageCenterY = targetImage.top + scrollTop + targetImage.height / 2;\n    config.translateX = Math.round(viewportX - imageCenterX);\n    config.translateY = Math.round(viewportY - imageCenterY);\n  }\n\n  function createViewer() {\n    config.target.classList.add('lightense-open'); // Create wrapper element\n\n    config.wrap = document.createElement('div');\n    config.wrap.className = 'lightense-wrap'; // Apply zoom ratio to target image\n\n    setTimeout(function () {\n      config.target.style.transform = 'scale(' + config.scaleFactor + ')';\n    }, 20); // Apply animation to outer wrapper\n\n    config.target.parentNode.insertBefore(config.wrap, config.target);\n    config.wrap.appendChild(config.target);\n    setTimeout(function () {\n      config.wrap.style.transform = 'translate3d(' + config.translateX + 'px, ' + config.translateY + 'px, 0)';\n    }, 20); // Show backdrop\n\n    var item_options = {\n      cubicBezier: config.target.getAttribute('data-lightense-cubic-bezier') || config.cubicBezier,\n      background: config.target.getAttribute('data-lightense-background') || config.target.getAttribute('data-background') || config.background,\n      zIndex: config.target.getAttribute('data-lightense-z-index') || config.zIndex\n    }; // Create new config for item-specified styles\n\n    var config_computed = _objectSpread(_objectSpread({}, config), item_options);\n\n    var css = \"\\n    :root {\\n      --lightense-z-index: \".concat(config_computed.zIndex - 1, \";\\n      --lightense-backdrop: \").concat(config_computed.background, \";\\n      --lightense-duration: \").concat(config_computed.time, \"ms;\\n      --lightense-timing-func: \").concat(config_computed.cubicBezier, \";\\n    }\");\n    insertCss('lightense-images-css-computed', css);\n    config.container.style.visibility = 'visible';\n    setTimeout(function () {\n      config.container.style.opacity = '1';\n    }, 20);\n  }\n\n  function removeViewer() {\n    invokeCustomHook('beforeHide');\n    unbindEvents();\n    config.target.classList.remove('lightense-open'); // Remove transform styles\n\n    config.wrap.style.transform = '';\n    config.target.style.transform = '';\n    config.target.classList.add('lightense-transitioning'); // Fadeout backdrop\n\n    config.container.style.opacity = ''; // Hide backdrop and remove target element wrapper\n\n    setTimeout(function () {\n      invokeCustomHook('afterHide');\n      config.container.style.visibility = '';\n      config.container.style.backgroundColor = '';\n      config.wrap.parentNode.replaceChild(config.target, config.wrap);\n      config.target.classList.remove('lightense-transitioning');\n    }, config.time);\n  }\n\n  function checkViewer() {\n    var scrollOffset = Math.abs(config.scrollY - window.scrollY);\n\n    if (scrollOffset >= config.offset) {\n      removeViewer();\n    }\n  }\n\n  function once(target, event, handler) {\n    target.addEventListener(event, function fn(args) {\n      Reflect.apply(handler, this, args);\n      target.removeEventListener(event, fn);\n    });\n  }\n\n  function init(element) {\n    config.target = element; // TODO: need refine\n    // If element already openned, close it\n\n    if (config.target.classList.contains('lightense-open')) {\n      return removeViewer();\n    }\n\n    invokeCustomHook('beforeShow'); // Save current window scroll position for later use\n\n    config.scrollY = window.scrollY;\n    once(config.target, 'transitionend', function () {\n      invokeCustomHook('afterShow');\n    });\n    var img = new Image();\n\n    img.onload = function () {\n      createTransform(this);\n      createViewer();\n      bindEvents();\n    };\n\n    img.src = config.target.src;\n  }\n\n  function bindEvents() {\n    window.addEventListener('keyup', onKeyUp, false);\n    window.addEventListener('scroll', checkViewer, false);\n    config.container.addEventListener('click', removeViewer, false);\n  }\n\n  function unbindEvents() {\n    window.removeEventListener('keyup', onKeyUp, false);\n    window.removeEventListener('scroll', checkViewer, false);\n    config.container.removeEventListener('click', removeViewer, false);\n  } // Exit on excape (esc) key pressed\n\n\n  function onKeyUp(event) {\n    event.preventDefault();\n\n    if (event.keyCode === 27) {\n      removeViewer();\n    }\n  }\n\n  function main(target) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    // Parse elements\n    elements = getElements(target); // Parse user options\n\n    config = _objectSpread(_objectSpread({}, defaults), options); // Prepare stylesheets\n\n    createDefaultCss(); // Prepare backdrop element\n\n    createBackdrop(); // Pass and prepare elements\n\n    startTracking(elements);\n  }\n\n  return main;\n};\n\nvar singleton = Lightense();\nmodule.exports = singleton;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can't be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__(352);\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["__webpack_modules__","__webpack_module_cache__","$f59de53767e8fbf8$exports","$4aa4c7540c92462b$var$setThemeVariant","mode","localStorage","setItem","htmlElement","document","querySelector","classList","remove","add","getElementById","style","display","$4aa4c7540c92462b$var$toggleThemeVariant","getItem","module1","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","value","defineProperty","configurable","writable","obj","getOwnPropertyDescriptors","defineProperties","_typeof","Symbol","iterator","constructor","prototype","singleton","Lightense","elements","defaults","time","padding","offset","keyboard","cubicBezier","background","zIndex","beforeShow","undefined","afterShow","beforeHide","afterHide","config","invokeCustomHook","methodName","method","concat","Reflect","track","element","src","contains","addEventListener","event","metaKey","ctrlKey","window","open","init","removeViewer","scrollY","once","handler","fn","args","removeEventListener","img","Image","onload","naturalWidth","naturalHeight","scrollTop","scrollLeft","targetImage","maxScaleFactor","viewportWidth","viewportHeight","viewportPadding","viewportWidthOffset","viewportHeightOffset","imageCenterX","imageCenterY","item_options","config_computed","width","height","pageYOffset","documentElement","pageXOffset","getBoundingClientRect","innerWidth","clientWidth","innerHeight","clientHeight","getAttribute","scaleFactor","imageRatio","left","top","translateX","Math","round","viewportX","translateY","viewportY","wrap","createElement","className","setTimeout","transform","parentNode","insertBefore","appendChild","insertCss","container","visibility","opacity","onKeyUp","checkViewer","styleId","styleContent","head","getElementsByTagName","styleEl","id","styleSheet","cssText","createTextNode","backgroundColor","replaceChild","abs","preventDefault","keyCode","options","getElements","querySelectorAll","body","startTracking","passedElements","len","exports","__webpack_require__","moduleId","cachedModule","$4aa4c7540c92462b$var$enableThemeVariantToggle","currentTheme","themeToggle","preferDark","matchMedia","e","matches","$4aa4c7540c92462b$var$enableOutdateCallout","callout","publish","updated","updateDate","Date","textContent","intervalDays","floor","now","getTime","calloutDays","parseInt","dataset","outdateDays","msg","outdateTextBefore","outdateTextAfter"],"version":3,"file":"main.js.map"}